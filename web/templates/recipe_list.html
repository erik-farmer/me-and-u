<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Recipes</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/minty/bootstrap.min.css" integrity="sha384-H4X+4tKc7b8s4GoMrylmy2ssQYpDHoqzPa9aKXbDwPoPUA3Ra8PA5dGzijN+ePnH" crossorigin="anonymous">
</head>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const logoutButton = document.querySelector('#btn-logout');

        if (logoutButton) {
            logoutButton.addEventListener('click', function(e) {
                e.preventDefault();
                document.cookie = "auth-session=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
                window.location.href = "/logout";
            });
        }
    });
</script>

<body>
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">Recipes</a>
            {{if .profile}}
                <a id="btn-logout" class="btn btn-outline-success my-2 my-sm-0" href="/logout">Logout: {{.profile.nickname}}</a>
            {{end}}
        </nav>

        <div class="list-group">
            {{range .recipes}}
            <a class="list-group-item" href="/recipes/{{.ROW_ID}}">{{.Name}}</a>
            {{end}}
        </div>
        {{if .profile}}
            <a class="btn btn-primary my-2 my-sm-0" href="/recipes/new/">Add new recipe &#x1F468;&#x200D;&#x1F373;</a>
        {{end}}
    </div>

</body>
</html>